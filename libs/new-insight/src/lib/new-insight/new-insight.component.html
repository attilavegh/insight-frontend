<div class="new-insight">
  <form class="new-insight__form" [formGroup]="form" (ngSubmit)="onSubmit()">

    <div class="new-insight__form-row">
      <insight-user-search formControlName="receiver"
                           [loading]="isSearchLoading$ | async"
                           [users]="users$ | async">
      </insight-user-search>
    </div>
    <div class="new-insight__form-row">
      <insight-type-selector formControlName="type">
      </insight-type-selector>
    </div>
    <div class="new-insight__form-row">
      <insight-input-box formControlName="continueMessage"
                         [headerText]="'Continue'"
                         [placeholder]="'You should continue...'">
      </insight-input-box>
    </div>
    <div *ngIf="isConsider" class="new-insight__form-row">
      <insight-input-box formControlName="considerMessage"
                         [headerText]="'Consider'"
                         [placeholder]="'Please, consider...'">
      </insight-input-box>
    </div>

    <div class="new-insight__form-row">
      <insight-button [text]="pending ? 'Sending...' : 'Send'"
                      [type]="'submit'"
                      [disabled]="pending">
      </insight-button>
    </div>
  </form>
</div>
